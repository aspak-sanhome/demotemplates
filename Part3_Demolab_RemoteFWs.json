{
  "AWSTemplateFormatVersion": "2010-09-09",
   "Description" : "Barracuda NextGen Firewall Demo Lab VPC",

  "Parameters" : {


   "ArchTagName" : {
    	"Type" : "String",
    	"Default" : "DemoLabRemoteFWs",
    	"Description" : "Enter the Modifier prepended to resources of this template"
    },
    "CCPointOfEntry" :
    {
      "Type" : "String",
    	"Default" : "34.240.249.28",
    	"Description" : "Enter the Modifier prepended to resources of this template"
    },
    "KeyName" : {
      "Description" : "Name of an existing EC2 KeyPair to enable SSH access to the instances",
      "Type" : "AWS::EC2::KeyPair::KeyName",
      "ConstraintDescription" : "Must be the name of an existing EC2 KeyPair.",
      "Default" : "MZ_keys"
    }
  },


  "Resources": {

        "IBKstack":{
              "Type" : "AWS::CloudFormation::Stack",
                     "Properties" : {
                         "TemplateURL" : "https://s3-eu-west-1.amazonaws.com/campustemplates/nested/remoteFW.json",
                         "Parameters" : {
                           "ArchTagName" : "Innsbruck",
                            "VPC" : "10.101.0.0/16",
                            "PublicSubnet1" : "10.101.0.0/24",
                            "PublicSubnet2" : "10.101.10.0/24",
                            "PrivateSubnet1" : "10.101.1.0/24",
                            "PrivateSubnet2" : "10.101.2.0/24",
                            "EIPaddressIdPrimary" : "eipalloc-0ccacd36",
                            "EIPaddressIdSecondary" : "eipalloc-cdcacdf7",
                            "PrimaryPrivateIPAddress": "10.101.0.10",
                            "SecondaryPrivateIpAddress" : "10.101.0.15",
                            "KeyName" : {"Ref" : "KeyName"},
                            "CCPointOfEntry": {"Ref" : "CCPointOfEntry"},
                            "CCCluster": "Innsbruck",
                            "CCRange": "2",
                            "CCBoxname": "Innsbruck"
                         }
                    }
                  }

 },

 "Outputs" : {




  }


 }
